<DOCTYPE html>

<html>
 
    <head>
        <meta charset="utf-8">
	    <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>how to use global state management</title>
        <link rel="stylesheet"  type="text/css" href="style.css"/>
    </head>

    <body>
        <div id="container">
            <h1>The super secret list of super secret agents</h1>
            <div id="agent-container">
            <!-- --------------------insert elements here   ----------------------- -->
            </div>
        </div>
    </body> 

    <script src="agent-info.js"></script>
    <script type="module">

        let tweets = getAgentInfo(null);
        console.log("hello:  " + JSON.stringify(tweets));
        const tweetContainer = document.querySelector("#agent-container");
        let str = '';
        let keys = Object.keys(tweets);
        for(let i=0; i<keys.length; i++) {
            let key = keys[i];
            let value = tweets[key];
            str = '<div class="agent">'+
                    '<img style="width:200px"; src="images/secret-agent.jpg"/>'+
                    '<p class="agent-name">'+ (i+1)+'. ' + value.name+ '</p>'+
                    '<p>'+ value.achievements+'</p>'+
                    '<a href="./agent.html?id='+key+'">Reveal identiy</a>'+
                  '</div>';
        
            tweetContainer.insertAdjacentHTML("beforeend", str);    
        }
       
    </script>
</html>